<berg-layout *ngIf="rx.layout$ | async as layout"
             [attr.resize-disabled]="layout.resizeDisabled!"
             [attr.resize-two-dimensions]="layout.resizeTwoDimensions!"
             [attr.resize-expand-offset]="layout.resizeExpandOffset!"
             [attr.resize-collapse-offset]="layout.resizeCollapseOffset!"
             [attr.resize-preview-delay]="layout.resizePreviewDelay!">

  <berg-panel slot="top"
              *ngIf="!layout.top?.remove!"
              output-binding-mode="noop"
              [attr.absolute]="layout.top?.absolute!"
              [attr.collapsed]="layout.top?.collapsed!"
              [attr.resize-disabled]="layout.top?.resizeDisabled!"
              [attr.snap]="layout.top?.snap!"
              (snapped)="onSnapped('top', $event)"
              (backdropClicked)="onBackdropClicked('top')">
    <berg-toolbar></berg-toolbar>
  </berg-panel>

  <berg-panel slot="right"
              *ngIf="!layout.right?.remove!"
              output-binding-mode="noop"
              [attr.absolute]="layout.right?.absolute!"
              [attr.collapsed]="layout.right?.collapsed!"
              [attr.resize-disabled]="layout.right?.resizeDisabled!"
              [attr.snap]="layout.right?.snap!"
              (snapped)="onSnapped('right', $event)"
              (backdropClicked)="onBackdropClicked('right')">
  </berg-panel>

  <berg-panel slot="bottom"
              *ngIf="!layout.bottom?.remove!"
              output-binding-mode="noop"
              [attr.absolute]="layout.bottom?.absolute!"
              [attr.collapsed]="layout.bottom?.collapsed!"
              [attr.resize-disabled]="layout.bottom?.resizeDisabled!"
              [attr.snap]="layout.bottom?.snap!"
              (snapped)="onSnapped('bottom', $event)"
              (backdropClicked)="onBackdropClicked('bottom')">
    <berg-editor-icon-nav (viewChanged)="view = $event"
                          [view]="view">
    </berg-editor-icon-nav>
  </berg-panel>

  <berg-panel slot="left"
              *ngIf="!layout.left?.remove!"
              output-binding-mode="noop"
              [attr.absolute]="layout.left?.absolute!"
              [attr.collapsed]="layout.left?.collapsed!"
              [attr.resize-disabled]="layout.left?.resizeDisabled!"
              [attr.snap]="layout.left?.snap!"
              (snapped)="onSnapped('left', $event)"
              (backdropClicked)="onBackdropClicked('left')">
    <berg-editor-nav (viewChanged)="view = $event"
                     [view]="view">
    </berg-editor-nav>
  </berg-panel>

  <berg-panel>
    <berg-editor [css]="rx.css$ | async"
                 [html]="rx.webComponentHtml$ | async"
                 [scss]="rx.scss$ | async"
                 [view]="view">
    </berg-editor>
  </berg-panel>
</berg-layout>
