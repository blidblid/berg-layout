<berg-layout *ngIf="rx.layout$ | async as layout"
             [resizeDisabled]="layout.resizeDisabled!"
             [resizeTwoDimensions]="layout.resizeTwoDimensions!"
             [resizeExpandOffset]="layout.resizeExpandOffset!"
             [resizeCollapseOffset]="layout.resizeCollapseOffset!"
             [resizePreviewDelay]="layout.resizePreviewDelay!">
  <berg-panel slot="top"
              *ngIf="!layout.top?.remove!"
              outputBindingMode="noop"
              [absolute]="layout.top?.absolute!"
              [collapsed]="layout.top?.collapsed!"
              [resizeDisabled]="layout.top?.resizeDisabled!"
              [snap]="layout.top?.snap!"
              (snapped)="onSnapped('top', $event)"
              (backdropClicked)="onBackdropClicked('top')">
    <berg-toolbar></berg-toolbar>
  </berg-panel>

  <berg-panel slot="right"
              *ngIf="!layout.right?.remove!"
              outputBindingMode="noop"
              [absolute]="layout.right?.absolute!"
              [collapsed]="layout.right?.collapsed!"
              [resizeDisabled]="layout.right?.resizeDisabled!"
              [snap]="layout.right?.snap!"
              (snapped)="onSnapped('right', $event)"
              (backdropClicked)="onBackdropClicked('right')">
  </berg-panel>

  <berg-panel slot="bottom"
              *ngIf="!layout.bottom?.remove!"
              outputBindingMode="noop"
              [absolute]="layout.bottom?.absolute!"
              [collapsed]="layout.bottom?.collapsed!"
              [resizeDisabled]="layout.bottom?.resizeDisabled!"
              [snap]="layout.bottom?.snap!"
              (snapped)="onSnapped('bottom', $event)"
              (backdropClicked)="onBackdropClicked('bottom')">
    <berg-editor-icon-nav (viewChanged)="view = $event"
                          [view]="view">
    </berg-editor-icon-nav>
  </berg-panel>

  <berg-panel slot="left"
              *ngIf="!layout.left?.remove!"
              outputBindingMode="noop"
              [absolute]="layout.left?.absolute!"
              [collapsed]="layout.left?.collapsed!"
              [resizeDisabled]="layout.left?.resizeDisabled!"
              [snap]="layout.left?.snap!"
              (snapped)="onSnapped('left', $event)"
              (backdropClicked)="onBackdropClicked('left')">
    <berg-editor-nav (viewChanged)="view = $event"></berg-editor-nav>
  </berg-panel>

  <berg-panel>
    <berg-editor [css]="rx.css$ | async"
                 [html]="rx.angularHtml$ | async"
                 [scss]="rx.scss$ | async"
                 [view]="view">
    </berg-editor>
  </berg-panel>
</berg-layout>
