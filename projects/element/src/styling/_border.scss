@mixin border(
  $border-width,
  $border-color,
  $resizing-border-width: null,
  $resizing-border-color: null,
  $previewing-border-width: null,
  $previewing-border-color: null
) {
  $border: $border-width solid $border-color;

  $resizing-border: $border-width solid $resizing-border-color;
  $resizing-border-width: $resizing-border-width or $border-width;
  $resizing-border-color: $resizing-border-color or $border-color;

  $previewing-border: $border-width solid $previewing-border-color;
  $previewing-border-width: $previewing-border-width or $resizing-border-width
    or $border-width;
  $previewing-border-color: $previewing-border-color or $resizing-border-color
    or $border-color;

  .berg-panel-top {
    border-bottom: $border;

    &.berg-resize-previewing {
      border-bottom: $previewing-border;
      box-shadow: 0 -#{$previewing-border-width} $previewing-border-color inset;
    }

    &.berg-resize-resizing {
      border-bottom: $resizing-border;
      box-shadow: 0 -#{$resizing-border-width} $resizing-border-color inset;
    }

    &.berg-resize-collapsed {
      @include collapsed-horizontal-panel();
    }
  }

  .berg-panel-left {
    border-right: $border;

    &.berg-resize-previewing {
      border-right: $previewing-border;
      box-shadow: -#{$previewing-border-width} 0 $previewing-border-color inset;
    }

    &.berg-resize-resizing {
      border-right: $resizing-border;
      box-shadow: -#{$resizing-border-width} 0 $resizing-border-color inset;
    }

    &.berg-resize-collapsed {
      @include collapsed-vertical-panel();
    }
  }

  .berg-panel-right {
    border-left: $border;

    &.berg-resize-previewing {
      border-left: $previewing-border;
      box-shadow: $previewing-border-width 0 $previewing-border-color inset;
    }

    &.berg-resize-resizing {
      border-left: $resizing-border;
      box-shadow: $resizing-border-width 0 $resizing-border-color inset;
    }

    &.berg-resize-collapsed {
      @include collapsed-vertical-panel();
    }
  }

  .berg-panel-bottom {
    border-top: $border;

    &.berg-resize-previewing {
      border-top: $previewing-border;
      box-shadow: 0 $previewing-border-width $previewing-border-color inset;
    }

    &.berg-resize-resizing {
      border-top: $resizing-border;
      box-shadow: 0 $resizing-border-width $resizing-border-color inset;
    }

    &.berg-resize-collapsed {
      @include collapsed-horizontal-panel();
    }
  }
}

@mixin collapsed-vertical-panel() {
  @include collapsed-panel;
  width: 0 !important;
  min-width: 0 !important;
  max-width: 0 !important;
}

@mixin collapsed-horizontal-panel() {
  @include collapsed-panel;
  height: 0 !important;
  min-height: 0 !important;
  max-height: 0 !important;
}

@mixin collapsed-panel() {
  padding: 0 !important;
  overflow: hidden !important;
}
